{"code":"import * as tslib_1 from \"tslib\";\r\nimport { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport { MenuItem } from './models/menuItem';\r\nvar StarWarsService = (function () {\r\n    function StarWarsService(http) {\r\n        this.http = http;\r\n        this.API_URL = 'https://swapi.co/api/';\r\n        this.menuData = [];\r\n        this.urlData = {};\r\n    }\r\n    StarWarsService.prototype.getMenu = function () {\r\n        var _this = this;\r\n        if (this.menuData.length) {\r\n            return Observable.of(this.menuData);\r\n        }\r\n        return this.http.get(this.API_URL)\r\n            .map(function (response) {\r\n            var json = response.json();\r\n            Object.keys(json).map(function (value) { return _this.menuData.push(MenuItem.load({ name: value, url: json[value] })); });\r\n            return _this.menuData;\r\n        })\r\n            .catch(function (error) { return Observable.throw(error.json().error || 'Server error'); });\r\n    };\r\n    StarWarsService.prototype.getFromUrl = function (url) {\r\n        var _this = this;\r\n        if (this.urlData[url]) {\r\n            return Observable.of(this.urlData[url]);\r\n        }\r\n        return this.http.get(url)\r\n            .map(function (response) {\r\n            _this.urlData[url] = response.json();\r\n            return response.json();\r\n        })\r\n            .catch(function (error) { return Observable.throw(error.json().error || 'Server error'); });\r\n    };\r\n    StarWarsService = tslib_1.__decorate([\r\n        Injectable(),\r\n        tslib_1.__metadata(\"design:paramtypes\", [Http])\r\n    ], StarWarsService);\r\n    return StarWarsService;\r\n}());\r\nexport { StarWarsService };\r\n//# sourceMappingURL=star-wars.service.js.map","map":{"version":3,"file":"star-wars.service.js","sourceRoot":"","sources":["star-wars.service.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EAAE,IAAI,EAAY,MAAM,eAAe,CAAC;AAC/C,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AAErC,OAAO,uBAAuB,CAAC;AAC/B,OAAO,yBAAyB,CAAC;AAEjC,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAG7C;IAME,yBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;QALtB,YAAO,GAAG,uBAAuB,CAAC;QAClC,aAAQ,GAAe,EAAE,CAAC;QAE1B,YAAO,GAAG,EAAE,CAAC;IAEY,CAAC;IAElC,iCAAO,GAAP;QAAA,iBAYC;QAXC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;aAC7B,GAAG,CAAC,UAAC,QAAkB;YACtB,IAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC7B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,EAAC,CAAC,CAAC,EAAlE,CAAkE,CAAC,CAAC;YACnG,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC;QACvB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU,IAAK,OAAA,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,cAAc,CAAC,EAAtD,CAAsD,CAAC,CAAC;IACrF,CAAC;IAED,oCAAU,GAAV,UAAW,GAAG;QAAd,iBAWC;QAVC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aACpB,GAAG,CAAC,UAAC,QAAkB;YACtB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YACpC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACzB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU,IAAK,OAAA,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,cAAc,CAAC,EAAtD,CAAsD,CAAC,CAAC;IACrF,CAAC;IAjCU,eAAe;QAD3B,UAAU,EAAE;iDAOe,IAAI;OANnB,eAAe,CAkC3B;IAAD,sBAAC;CAAA,AAlCD,IAkCC;SAlCY,eAAe"}}
