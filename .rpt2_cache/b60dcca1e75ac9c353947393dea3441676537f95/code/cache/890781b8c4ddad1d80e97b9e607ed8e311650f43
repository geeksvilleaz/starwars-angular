{"code":"import * as tslib_1 from \"tslib\";\r\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { StarWarsService } from '../star-wars.service';\r\nvar ListComponent = (function () {\r\n    function ListComponent(swSvc) {\r\n        this.swSvc = swSvc;\r\n        this.displayItem = new EventEmitter();\r\n    }\r\n    ListComponent.prototype.ngOnChanges = function (changes) {\r\n        if (changes.categoryUrl &&\r\n            changes.categoryUrl.currentValue !== changes.categoryUrl.previousValue) {\r\n            this.setTitle();\r\n            this.loadCategory();\r\n        }\r\n    };\r\n    /**\r\n     * Loads the previous or next page of results.\r\n     * @param url The API URL.\r\n     */\r\n    ListComponent.prototype.goTo = function (url) {\r\n        console.log('goto', url);\r\n        this.categoryUrl = url;\r\n        this.loadCategory();\r\n    };\r\n    /**\r\n     * Sets the title of the page based on the category.\r\n     */\r\n    ListComponent.prototype.setTitle = function () {\r\n        var parts = this.categoryUrl.split('/');\r\n        this.title = parts[parts.length - 2];\r\n    };\r\n    /**\r\n     * Loads the category information from the API.\r\n     */\r\n    ListComponent.prototype.loadCategory = function () {\r\n        var _this = this;\r\n        this.swSvc.getFromUrl(this.categoryUrl)\r\n            .subscribe(function (response) {\r\n            console.log(response);\r\n            _this.url = response.results[0].url;\r\n            _this.count = response.count;\r\n            _this.results = response.results;\r\n            _this.nextUrl = response.next;\r\n            _this.previousUrl = response.previous;\r\n        });\r\n    };\r\n    /**\r\n     * Callback to display the item detail.\r\n     * @param item The item to be displayed.\r\n     */\r\n    ListComponent.prototype.handleDisplayItem = function (item) {\r\n        this.displayItem.emit(item);\r\n    };\r\n    tslib_1.__decorate([\r\n        Input(),\r\n        tslib_1.__metadata(\"design:type\", String)\r\n    ], ListComponent.prototype, \"categoryUrl\", void 0);\r\n    tslib_1.__decorate([\r\n        Output(),\r\n        tslib_1.__metadata(\"design:type\", EventEmitter)\r\n    ], ListComponent.prototype, \"displayItem\", void 0);\r\n    ListComponent = tslib_1.__decorate([\r\n        Component({\r\n            selector: 'app-list',\r\n            template: \"\\n    <h2>{{title}}</h2>\\n\\n    <div class=\\\"list\\\">\\n      <app-list-item\\n          *ngFor=\\\"let result of results;\\\"\\n          [item]=\\\"result\\\"\\n          (displayItem)=\\\"handleDisplayItem($event)\\\">\\n      </app-list-item>\\n    </div>\\n\\n    <app-pagination\\n        (goTo)=\\\"goTo($event)\\\"\\n        [next]=\\\"nextUrl\\\"\\n        [previous]=\\\"previousUrl\\\"\\n        [count]=\\\"count\\\"\\n        [url]=\\\"url\\\">\\n    </app-pagination>\\n  \",\r\n            styles: [\"\\n    .list {\\n      display: flex;\\n      flex-wrap: wrap;\\n    }\\n  \"]\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [StarWarsService])\r\n    ], ListComponent);\r\n    return ListComponent;\r\n}());\r\nexport { ListComponent };\r\n//# sourceMappingURL=list.component.js.map","map":{"version":3,"file":"list.component.js","sourceRoot":"","sources":["list.component.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,KAAK,EAAqB,MAAM,EAAE,MAAM,eAAe,CAAC;AAC1F,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AAqCvD;IAYE,uBACU,KAAsB;QAAtB,UAAK,GAAL,KAAK,CAAiB;QAXtB,gBAAW,GACjB,IAAI,YAAY,EAAyD,CAAC;IAW3E,CAAC;IAEJ,mCAAW,GAAX,UAAY,OAAO;QACjB,EAAE,CAAC,CAAC,OAAO,CAAC,WAAW;YACnB,OAAO,CAAC,WAAW,CAAC,YAAY,KAAK,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;YAC3E,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAED;;;OAGG;IACH,4BAAI,GAAJ,UAAK,GAAW;QACd,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED;;OAEG;IACH,gCAAQ,GAAR;QACE,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACvC,CAAC;IAED;;OAEG;IACH,oCAAY,GAAZ;QAAA,iBAUC;QATC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC;aAClC,SAAS,CAAC,UAAA,QAAQ;YACjB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,KAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YACnC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;YAC5B,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;YAChC,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;YAC7B,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC;QACvC,CAAC,CAAC,CAAC;IACT,CAAC;IAGD;;;OAGG;IACH,yCAAiB,GAAjB,UAAkB,IAA2D;QAC3E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IA/DQ;QAAR,KAAK,EAAE;;sDAAqB;IACnB;QAAT,MAAM,EAAE;0CAAc,YAAY;sDAC2C;IAHnE,aAAa;QA5BzB,SAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,QAAQ,EAAE,wbAkBT;YACD,MAAM,EAAE,CAAC,wEAKR,CAAC;SACH,CAAC;iDAciB,eAAe;OAbrB,aAAa,CAiEzB;IAAD,oBAAC;CAAA,AAjED,IAiEC;SAjEY,aAAa"}}
